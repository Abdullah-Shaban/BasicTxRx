Simple receiver example
===================

iMinds
-----

The 'rx_application.ns' file describes the topology of the USRP and the host server on the testbed.
The 'rx_application.grc' file implements a simple QPSK receiver in GNU Radio Companion (GRC).
The 'rx_application.png' file contains a screenshot of the GRC flow graph.
The 'rx_application.py' file is the python file automatically generated by GRC.

Requirements:

  * [Install Open VPN client](https://openvpn.net/index.php/open-source/downloads.html)
  * [Request an w-iLab.t testbed account](http://ilabt.iminds.be/gettingstarted)
  * [Basic knowledge of the w-iLab.t Zwijnaarde testbed](http://ilabt.iminds.be/node/93)
  * [Basic knowledge of using USRP in w-iLab.t Zwijnaarde testbed](http://doc.ilabt.iminds.be/ilabt-documentation/wilabfacility.html#using-the-usrp-devices)

To run the receiver:

    $ reserve 1 USRP and 1 server (can be both server1P or server5P) on the testbed reservation page
    $ define an emulab experiment using the rx_application.ns file (if it does not exist), adapt the USRP and server according to the reservation and swap in the experiment
    $ log into the reserved server with your w-iLab.t account graphically (with -X option if using ssh client)
    $ verify the connection between the server and USRP
    $ launch GRC by running the command: gnuradio-companion
    $ open the 'rx_application.grc' with GRC, adapt the IP address of the USRP 
    $ execute the flow graph with the "run" button 
    $ alternatively, the file sink can be enabled to take a look at the received data. 

This .grc file mainly consists of the following components:
  * USRP source
    * Provides raw samples from the USRP
  * FLL Band Edge
    * Implements frequency locked loop and band edge filters to correct the frequency offset
  * Correlate and Sync
    * The block searches for a preamble using correlation to get time and phase estimation
  * Poly phase clock sync
    * Performs clock correction using poly phase filter
  * Costas loop
    * Performs fine clock and phase adjustment and lock to a particular constellation  
  * Packet Decoder
    * Decode the symbols, remove preambles and headers, output payload bytes and number of packets received per second



